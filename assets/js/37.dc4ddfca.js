(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{397:function(s,a,t){"use strict";t.r(a);var n=t(40),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("h2",{attrs:{id:"zhamao-framework-框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zhamao-framework-框架"}},[s._v("#")]),s._v(" zhamao-framework 框架")]),s._v(" "),t("p",[s._v("框架安装流程大致为：")]),s._v(" "),t("ol",[t("li",[s._v("安装 PHP")]),s._v(" "),t("li",[s._v("安装 Swoole、mbstring 等需要的 PHP 扩展")]),s._v(" "),t("li",[s._v("从 Composer 拉取框架")])]),s._v(" "),t("h3",{attrs:{id:"linux-win10-wsl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-win10-wsl"}},[s._v("#")]),s._v(" Linux / Win10 (WSL)")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装PHP >= 7.2（CLI + dev 版本）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Debian、Ubuntu（一句话安装php和swoole）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y software-properties-common "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  add-apt-repository ppa:ondrej/php -y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php php-dev php-mbstring gcc "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" openssl "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  php-mbstring php-json php-curl php-mysql -y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/swoole/swoole-src/archive/v4.5.0.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf v4.5.0.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" swoole-src-4.5.0/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  phpize "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" ./configure --enable-openssl --enable-mysqlnd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -j2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extension=swoole.so"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("php -i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Loaded Configuration File"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$5")]),s._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CentOS(需要 >= 7) 使用的指令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\nyum makecache fast\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" php72w-devel.x86_64 php72w-mbstring.x86_64 php72w-pear.noarch gcc gcc-c++ openssl-devel -y\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法1: PECL 安装 Swoole")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sudo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" pecl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" swoole\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法2: 源码编译安装 Swoole (使用最新版，把版本号替换为最新版即可)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/swoole/swoole-src/archive/v4.5.9.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf v4.5.9.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" swoole-src-4.5.9\nphpize\n./configure --enable-openssl\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" -j2\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 extension 到 php.ini 文件，这行是自动找到位置并写入到最后一行的命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extension=swoole.so"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("php -i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Loaded Configuration File"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$5")]),s._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#其他发行版可自行 Google 或 Bing 查询安装方法")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("p",[s._v("下载安装框架")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法1：从默认部署框架")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" create-project zhamao/framework-starter:^1.4\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" framework-starter\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法2：从composer初始化目录初始结构和配置文件（1.5.5 版本起可用）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" your-dir-name\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" your-dir-name\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" require zhamao/framework:^1.6\nvendor/bin/start init\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("框架需要额外安装的 PHP 扩展汇总")]),s._v(" "),t("p",[s._v("php-mbstring，php-json，php-ctype，php-swoole，php-curl，php-mysql（PDO 驱动的 mysqlnd）")]),s._v(" "),t("p",[s._v("swoole (版本 >= 4.3)")])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("系统可能存在的问题")]),s._v(" "),t("p",[s._v("对于 CentOS，建议在部署框架环境或使用 Docker 前临时将 SELinux 关闭，以免造成不必要的麻烦。")]),s._v(" "),t("p",[s._v("对于 macOS，使用 homebrew 安装 PHP 环境要注意 openssl 安装时需要将 openssl 的环境变量临时声明才能正常使用 openssl。")]),s._v(" "),t("p",[s._v("对于 cygwin 的 Windows 用户，可能未来新版本的 Swoole 兼容性不高，需要注意潜在的各种问题。")]),s._v(" "),t("p",[s._v("在 1.3.1 版本开始，框架将连接池的驱动从 Swoole 官方客户端连接变为 PDO 连接，因为 Swoole 提供的客户端已停止维护。但更换的同时也给框架增加了 PHP 扩展的依赖，如果你选择升级到 1.3.1 以后的版本，并要使用 MySQL 连接池的话，请务必安装 mysql 扩展！")])]),s._v(" "),t("h2",{attrs:{id:"docker-安装框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装框架"}},[s._v("#")]),s._v(" Docker 安装框架")]),s._v(" "),t("p",[s._v("对于不想部署到主机环境的情况，推荐直接使用 Docker。")]),s._v(" "),t("h3",{attrs:{id:"框架单独的-docker-构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#框架单独的-docker-构建"}},[s._v("#")]),s._v(" 框架单独的 Docker 构建")]),s._v(" "),t("p",[s._v("如果你已经部署了 CQHTTP 的 Docker 容器并运行，或者你有多个 酷Q 要连接到一个框架，推荐单独构建一个容器运行框架：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" zhamao-framework/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建容器")]),s._v("\ndocker build -t zm "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接启动")]),s._v("\ndocker run --rm -it -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20001")]),s._v(":20001 -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(":/app/zhamao-framework zm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"框架-cqhttp-docker-混合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#框架-cqhttp-docker-混合"}},[s._v("#")]),s._v(" 框架 + CQHTTP Docker 混合")]),s._v(" "),t("p",[s._v("如果你只有一个 酷Q，并且只是用来开发机器人，可以直接使用作者托管的二合一镜像部署，运行 Docker 后的命令需在 vnc 中右键桌面打开终端进行操作：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" coolq-data zhamao-framework\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" zhamao-framework\ndocker run --rm -it "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("/coolq-data:/home/user/coolq "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("/zhamao-framework:/home/user/zhamao-framework "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CQHTTP_WS_REVERSE_URL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ws://127.0.0.1:20001/ "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CQHTTP_USE_WS_REVERSE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CQHTTP_WS_REVERSE_USE_UNIVERSAL_CLIENT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("FORCE_ENV")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("VNC_PASSWD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yourpass "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\tzmbot/coolq-zm\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过浏览器进入 http://你的地址:9000/ 进入vnc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yourpass是登录密码，建议修改成其他的8位密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面的命令在 vnc 里面的终端输入")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一次安装时进入后运行一下")]),s._v("\n./start.sh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#以后启动 Docker 后运行框架的方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" zhamao-framework\nphp bin/start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("p",[s._v("二合一容器安装后，你的 酷Q 目录在当前目录下的 "),t("code",[s._v("coolq-data/")]),s._v("，你的框架代码目录在 "),t("code",[s._v("zhamao-framework/")]),s._v("。要注意，这两个文件夹的权限都是 "),t("code",[s._v("1000:1000")]),s._v("，如果不是可能会导致 Docker 内的程序权限不足。或者将文件夹设置为 777 权限也可以。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("二合一 Docker 是基于 CQHTTP 的 Docker 容器进行构建，本 Docker 只在原 Docker 环境中配置了 Swoole 等运行框架的环境，其他关于 Docker 的问题情见 "),t("a",{attrs:{href:"https://cqhttp.cc/docs/#/Docker",target:"_blank",rel:"noopener noreferrer"}},[s._v("CQHTTP - Docker"),t("OutboundLink")],1),s._v("。")])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("在 Docker 中运行框架，如果提示 composer auth 问题，直接回车即可。启动后建议谨慎使用 Ctrl+C 键盘中止程序，可以输入 "),t("code",[s._v("stop")]),s._v(" 命令。如果 Ctrl+C 导致没有退出并卡死，可以使用 "),t("code",[s._v("docker ps")]),s._v(" + "),t("code",[s._v("docker stop")]),s._v(" 两个指令找到 id 并停止容器。")])]),s._v(" "),t("h2",{attrs:{id:"酷q-with-cqhttp-插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#酷q-with-cqhttp-插件"}},[s._v("#")]),s._v(" 酷Q with CQHTTP 插件")]),s._v(" "),t("p",[s._v("你可以按照 CQHTTP 插件的推荐安装方法，从 Docker、GitHub 下载等方式安装到平台上。详见 "),t("a",{attrs:{href:"https://cqhttp.cc/docs/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CQHTTP文档"),t("OutboundLink")],1),s._v("。如果你是第一次使用 酷Q 或 CQHTTP 插件，建议先自行完成 酷Q 的新手教程和了解 CQHTTP 的基础运作原理。")]),s._v(" "),t("p",[s._v("关于 CQHTTP 插件，推荐按照其 "),t("a",{attrs:{href:"https://cqhttp.cc/docs/",target:"_blank",rel:"noopener noreferrer"}},[s._v("教程"),t("OutboundLink")],1),s._v(" 的「使用方法」安装插件。安装后，请先使用默认配置运行，并查看 酷Q 日志窗口的输出，以确定插件的加载、配置的生成和读取、插件版本等符合预期。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("目前 zhamao-framework 需要至少安装 CQHTTP 插件的版本是 >= 4.12，以便使用所有功能")])]),s._v(" "),t("h2",{attrs:{id:"使用-ide-进行开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-ide-进行开发"}},[s._v("#")]),s._v(" 使用 IDE 进行开发")]),s._v(" "),t("p",[s._v("通过文本编辑器进行炸毛框架开发时，框架集成的注解功能虽然便捷，但仍需要 "),t("code",[s._v("use")]),s._v(" 注解相对应的命名空间，这显然不是一个高效的做法。我们推荐在使用集成开发环境 "),t("strong",[s._v("IDEA")]),s._v(" 或 "),t("strong",[s._v("PhpStorm")]),s._v(" 时，通过插件市场搜索并安装 "),t("strong",[s._v("PHP Annotations")]),s._v(" 插件以提供注解命名空间自动补全、注解属性代码提醒、注解类跳转等非常有助于提升开发效率的功能。")]),s._v(" "),t("h2",{attrs:{id:"疑难处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#疑难处理"}},[s._v("#")]),s._v(" 疑难处理")]),s._v(" "),t("p",[s._v("如果遇到安装方面的困难或各种因不同环境导致框架安装出现问题，可以在框架的 GitHub 页面发布 Issue，一般情况下将在 24 小时内回复。")])])}),[],!1,null,null,null);a.default=e.exports}}]);