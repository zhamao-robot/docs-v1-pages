(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{375:function(e,s,t){"use strict";t.r(s);var a=t(40),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"自动保存的缓存变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动保存的缓存变量"}},[e._v("#")]),e._v(" 自动保存的缓存变量")]),e._v(" "),t("p",[e._v("前面的注解和事件以及模块编写均提到了自动保存的缓存变量，自动保存的缓存变量就是储存到 "),t("code",[e._v("ZMBuf")]),e._v(" 的变量，只不过会定时储存到文件，不会因为框架关闭或重启而丢失数据。")]),e._v(" "),t("p",[e._v("和普通的 "),t("code",[e._v("ZMBuf::set")]),e._v(" 方式设置的缓存变量的区别是，自动保存的变量只会自动保存，调用和修改起来两者是完全一致的。框架默认 15 分钟保存一次。")]),e._v(" "),t("p",[e._v("比如，你在前面用注解给模块加载了一个自动保存的缓存变量：")]),e._v(" "),t("div",{staticClass:"language-php line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-php"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n * @SaveBuffer("ipad_list")\n */')]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("在本模块内，你就可以在任意位置进行 "),t("code",[e._v('ZMBuf::get("ipad_list")')]),e._v(" 的值，也可以 "),t("code",[e._v("set")]),e._v(" 来改变内部的值。")]),e._v(" "),t("p",[e._v("其中，"),t("code",[e._v("buf_name")]),e._v(" 等同于上面的缓存变量名称，"),t("code",[e._v("sub_folder")]),e._v(" 参数为缓存变量在 "),t("code",[e._v("config/")]),e._v(" 目录下的子目录名称。如果不写，则默认在 "),t("code",[e._v("config/")]),e._v(" 根目录下创建储存文件。")])])}),[],!1,null,null,null);s.default=n.exports}}]);